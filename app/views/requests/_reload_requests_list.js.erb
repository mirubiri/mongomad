$('#new-request-form').modal('hide');

if( ($('.request').length) === 0){
  $('#request_list_container > .no_elements').remove();
}

$('#new-request-form').on('hidden', function(){
  $('#request_list_container')
  .prepend("<%= escape_javascript(render :template => 'requests/show', :locals => {:@request => request}).html_safe %>")
  .children()
  .first()
  .addClass("new_request_style")
  .css('opacity', 0)
  .hide()
  .slideDown()
  .animate(
    { opacity: 1 },
    { queue: false, duration: 1500 }
  )
  .animate({backgroundColor: '#ffffff'}, 800, function(){
    $(this).removeClass("new_request_style");
  });
  
  //Elimino la ventana modal
  delete $(this);
});

