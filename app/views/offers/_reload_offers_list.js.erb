$('#new-offer-form').modal('hide');

if( ($('.offer').length) === 0){
  $('#ppal_container > .no_elements').remove();
}

$('#new-offer-form').on('hidden', function () {
  $('#ppal_container')
  .masonry('destroy')
  .prepend("<%= escape_javascript(render :template => 'offers/show', :locals => {:@offer => offer, :@negotiation => Negotiation.new}).html_safe %>")
  .children()
  .first()
  .addClass("new_request_style")
  .css('opacity', 0)
  .hide()
  .slideDown()
  .animate(
    { opacity: 1 },
    { queue: false, duration: 1500 }
  )
  .animate({backgroundColor: '#ffffff'}, 800, function(){
    $(this).removeClass("new_request_style");
  });
  
  //Elimino la ventana modal
  delete $(this);
});